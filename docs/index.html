<!DOCTYPE html>
<html lang="es" id="html-root">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MateAventura Pro: Hall of Fame ğŸ†</title>
    <link rel="stylesheet" href="./css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>

<body>

    <div id="app-container">
        <!-- Selector de idioma -->
        <div class="lang-selector">
            <button onclick="changeLanguage('es')" id="btn-lang-es" class="lang-btn">ES</button>
            <button onclick="changeLanguage('gl')" id="btn-lang-gl" class="lang-btn">GL</button>
        </div>

        <div id="screen-users" class="screen active">
            <h1 data-i18n="app_title">ğŸš€ MateAventura</h1>
            <div id="user-list"></div>
            <div class="user-input-group">
                <input type="text" id="new-user-name" class="user-input" data-i18n-placeholder="input_player_name">
                <button onclick="createUser()" class="btn-add" data-i18n="btn_add">+ AÃ±adir</button>
            </div>
            <button class="main-btn btn-store" onclick="openStore()" data-i18n="btn_open_store">ğŸª TIENDA</button>
            <button class="main-btn btn-duel" onclick="setupDuel()" data-i18n="btn_duel_mode">ğŸ† MODO DUELO</button>
            <button class="btn-help" onclick="window.location.href='help.html'" data-i18n="btn_help">ğŸ“š Ayuda</button>

            <div class="leaderboard" id="hall-of-fame">
                <h3 class="leaderboard-title" data-i18n="hall_of_fame_title">ğŸ‘‘ SalÃ³n de la Fama</h3>
                <div id="leader-list"></div>
            </div>
        </div>

        <div id="screen-config" class="screen">
            <h2 id="config-title" data-i18n="config_title">ConfiguraciÃ³n</h2>
            <div class="config-box">
                <div id="username-edit-section" style="display: none; margin-bottom: 20px;">
                    <input type="text" id="edit-user-name" class="edit-name-input" placeholder="Nuevo nombre..."
                        data-i18n-placeholder="input_edit_name" aria-label="Edit username">
                    <button class="main-btn" onclick="saveUserName()" data-i18n="btn_save_name"
                        style="margin: 10px 5px;">ğŸ’¾ Guardar nombre</button>
                    <button class="btn-back" onclick="cancelEditName()" data-i18n="btn_cancel_edit">âŒ Cancelar</button>
                </div>
                <button id="btn-edit-username" class="main-btn" onclick="showEditName()" data-i18n="btn_edit_name"
                    style="margin-bottom: 20px;"></button>
                <p><strong data-i18n="choose_operations">Elige las operaciones:</strong></p>
                <label class="config-label"><input type="checkbox" id="cfg-sum" checked>
                    <span data-i18n="op_addition">Sumas</span></label>
                <label class="config-label"><input type="checkbox" id="cfg-res">
                    <span data-i18n="op_subtraction">Restas</span></label>
                <label class="config-label"><input type="checkbox" id="cfg-mul">
                    <span data-i18n="op_multiplication">Multiplicaciones</span></label>
            </div>
            <button class="main-btn" onclick="startSingleGame()" data-i18n="btn_play">Â¡A JUGAR!</button>
            <button class="btn-back" onclick="showUsers()" data-i18n="btn_change_user">â¬… Cambiar de usuario</button>
        </div>

        <div id="screen-game" class="screen">
            <div id="turn-indicator" class="turn-indicator"></div>
            <div class="game-stats">
                <span class="stat-level"><span data-i18n="label_level">Nivel</span>: <span
                        id="game-level">1</span></span>
                <span id="game-timer" class="game-timer">30s</span>
                <span class="stat-coins">ğŸ’° <span id="game-coins">0</span></span>
            </div>
            <div class="game-power-ups">
                <button id="btn-use-potion" class="power-up-btn" onclick="usePotion()">
                    â° <span id="potion-count">0</span>
                </button>
                <div id="shield-indicator" class="shield-indicator">
                    ğŸ›¡ï¸ <span id="shield-count">0</span>
                </div>
            </div>
            <div id="question-area" class="question-area"></div>
            <div id="answers-area" class="options-grid"></div>
        </div>

        <!-- Store Modal -->
        <div id="store-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 data-i18n="store_title">ğŸª Tienda de Objetos</h2>
                    <button class="modal-close" onclick="closeStore()">âœ–</button>
                </div>
                <div class="store-balance">
                    <span data-i18n="store_balance">Tu saldo:</span>
                    <span class="balance-amount">ğŸ’° <span id="store-balance">0</span></span>
                </div>
                <div class="store-items" id="store-items">
                    <!-- Items will be rendered here -->
                </div>
                <button class="btn-back" onclick="closeStore()" data-i18n="btn_close_store">â¬… Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-content">
            <p class="footer-text">
                <span class="freedom-icon">ğŸ”“</span>
                <strong data-i18n="footer_free_software">Software Libre</strong> -
                <span data-i18n="footer_support_text">Apoya el proyecto:</span>
            </p>
            <div class="footer-links">
                <a href="https://github.com/mameyugo/MathGame" target="_blank" rel="noopener noreferrer"
                    class="footer-link github-link">
                    <span>â­</span> <span data-i18n="footer_star_repo">Dale una estrella</span>
                </a>
                <a href="https://github.com/mameyugo/MathGame" target="_blank" rel="noopener noreferrer"
                    class="footer-link contribute-link">
                    <span>ğŸ¤</span> <span data-i18n="footer_contribute">Colabora</span>
                </a>
            </div>
        </div>
    </footer>

    <script src="./js/app.js"></script>
</body>

</html>